var kt=Object.defineProperty;var Et=(t,e,n)=>e in t?kt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var X=(t,e,n)=>(Et(t,typeof e!="symbol"?e+"":e,n),n);function y(){}function G(t,e){for(const n in e)t[n]=e[n];return t}function ct(t){return t()}function et(){return Object.create(null)}function q(t){t.forEach(ct)}function H(t){return typeof t=="function"}function ut(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let D;function Ft(t,e){return t===e?!0:(D||(D=document.createElement("a")),D.href=e,t===D.href)}function vt(t){return Object.keys(t).length===0}function lt(t,...e){if(t==null){for(const o of e)o(void 0);return y}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function Xt(t,e,n){t.$$.on_destroy.push(lt(e,n))}function Yt(t,e,n,o){if(t){const c=ft(t,e,n,o);return t[0](c)}}function ft(t,e,n,o){return t[1]&&o?G(n.ctx.slice(),t[1](o(e))):n.ctx}function Vt(t,e,n,o){if(t[2]&&o){const c=t[2](o(n));if(e.dirty===void 0)return c;if(typeof c=="object"){const u=[],l=Math.max(e.dirty.length,c.length);for(let r=0;r<l;r+=1)u[r]=e.dirty[r]|c[r];return u}return e.dirty|c}return e.dirty}function Wt(t,e,n,o,c,u){if(c){const l=ft(e,n,o,u);t.p(l,c)}}function Gt(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let o=0;o<n;o++)e[o]=-1;return e}return-1}function Ht(t,e){t.appendChild(e)}function J(t,e,n){t.insertBefore(e,n||null)}function U(t){t.parentNode&&t.parentNode.removeChild(t)}function Jt(t){return document.createElement(t)}function at(t){return document.createTextNode(t)}function Kt(){return at(" ")}function K(){return at("")}function Qt(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function $t(t){return Array.from(t.childNodes)}function Zt(t,e,n){t.classList.toggle(e,!!n)}function xt(t,e,{bubbles:n=!1,cancelable:o=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:o})}function M(t,e){return new t(e)}let R;function A(t){R=t}function F(){if(!R)throw new Error("Function called outside component initialization");return R}function te(t){F().$$.on_mount.push(t)}function jt(t){F().$$.after_update.push(t)}function Ct(t){F().$$.on_destroy.push(t)}function St(){const t=F();return(e,n,{cancelable:o=!1}={})=>{const c=t.$$.callbacks[e];if(c){const u=xt(e,n,{cancelable:o});return c.slice().forEach(l=>{l.call(t,u)}),!u.defaultPrevented}return!0}}function nt(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(o=>o.call(this,e))}const S=[],ot=[];let O=[];const rt=[],dt=Promise.resolve();let V=!1;function _t(){V||(V=!0,dt.then(ht))}function Ot(){return _t(),dt}function W(t){O.push(t)}const Y=new Set;let j=0;function ht(){if(j!==0)return;const t=R;do{try{for(;j<S.length;){const e=S[j];j++,A(e),Pt(e.$$)}}catch(e){throw S.length=0,j=0,e}for(A(null),S.length=0,j=0;ot.length;)ot.pop()();for(let e=0;e<O.length;e+=1){const n=O[e];Y.has(n)||(Y.add(n),n())}O.length=0}while(S.length);for(;rt.length;)rt.pop()();V=!1,Y.clear(),A(t)}function Pt(t){if(t.fragment!==null){t.update(),q(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(W)}}function qt(t){const e=[],n=[];O.forEach(o=>t.indexOf(o)===-1?e.push(o):n.push(o)),n.forEach(o=>o()),O=e}const I=new Set;let v;function Q(){v={r:0,c:[],p:v}}function Z(){v.r||q(v.c),v=v.p}function $(t,e){t&&t.i&&(I.delete(t),t.i(e))}function P(t,e,n,o){if(t&&t.o){if(I.has(t))return;I.add(t),v.c.push(()=>{I.delete(t),o&&(n&&t.d(1),o())}),t.o(e)}else o&&o()}function T(t,e){const n={},o={},c={$$scope:1};let u=t.length;for(;u--;){const l=t[u],r=e[u];if(r){for(const s in l)s in r||(o[s]=1);for(const s in r)c[s]||(n[s]=r[s],c[s]=1);t[u]=r}else for(const s in l)c[s]=1}for(const l in o)l in n||(n[l]=void 0);return n}function z(t){return typeof t=="object"&&t!==null?t:{}}function B(t){t&&t.c()}function L(t,e,n){const{fragment:o,after_update:c}=t.$$;o&&o.m(e,n),W(()=>{const u=t.$$.on_mount.map(ct).filter(H);t.$$.on_destroy?t.$$.on_destroy.push(...u):q(u),t.$$.on_mount=[]}),c.forEach(W)}function N(t,e){const n=t.$$;n.fragment!==null&&(qt(n.after_update),q(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function At(t,e){t.$$.dirty[0]===-1&&(S.push(t),_t(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Rt(t,e,n,o,c,u,l=null,r=[-1]){const s=R;A(t);const i=t.$$={fragment:null,ctx:[],props:u,update:y,not_equal:c,bound:et(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(s?s.$$.context:[])),callbacks:et(),dirty:r,skip_bound:!1,root:e.target||s.$$.root};l&&l(i.root);let _=!1;if(i.ctx=n?n(t,e.props||{},(p,g,...w)=>{const m=w.length?w[0]:g;return i.ctx&&c(i.ctx[p],i.ctx[p]=m)&&(!i.skip_bound&&i.bound[p]&&i.bound[p](m),_&&At(t,p)),g}):[],i.update(),_=!0,q(i.before_update),i.fragment=o?o(i.ctx):!1,e.target){if(e.hydrate){const p=$t(e.target);i.fragment&&i.fragment.l(p),p.forEach(U)}else i.fragment&&i.fragment.c();e.intro&&$(t.$$.fragment),L(t,e.target,e.anchor),ht()}A(s)}class Lt{constructor(){X(this,"$$");X(this,"$$set")}$destroy(){N(this,1),this.$destroy=y}$on(e,n){if(!H(n))return y;const o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(n),()=>{const c=o.indexOf(n);c!==-1&&o.splice(c,1)}}$set(e){this.$$set&&!vt(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Nt="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Nt);function ee(t){if(!t)throw Error("Parameter args is required");if(!t.component==!t.asyncComponent)throw Error("One and only one of component and asyncComponent is required");if(t.component&&(t.asyncComponent=()=>Promise.resolve(t.component)),typeof t.asyncComponent!="function")throw Error("Parameter asyncComponent must be a function");if(t.conditions){Array.isArray(t.conditions)||(t.conditions=[t.conditions]);for(let n=0;n<t.conditions.length;n++)if(!t.conditions[n]||typeof t.conditions[n]!="function")throw Error("Invalid parameter conditions["+n+"]")}return t.loadingComponent&&(t.asyncComponent.loading=t.loadingComponent,t.asyncComponent.loadingParams=t.loadingParams||void 0),{component:t.asyncComponent,userData:t.userData,conditions:t.conditions&&t.conditions.length?t.conditions:void 0,props:t.props&&Object.keys(t.props).length?t.props:{},_sveltesparouter:!0}}const C=[];function pt(t,e){return{subscribe:mt(t,e).subscribe}}function mt(t,e=y){let n;const o=new Set;function c(r){if(ut(t,r)&&(t=r,n)){const s=!C.length;for(const i of o)i[1](),C.push(i,t);if(s){for(let i=0;i<C.length;i+=2)C[i][0](C[i+1]);C.length=0}}}function u(r){c(r(t))}function l(r,s=y){const i=[r,s];return o.add(i),o.size===1&&(n=e(c,u)||y),r(t),()=>{o.delete(i),o.size===0&&n&&(n(),n=null)}}return{set:c,update:u,subscribe:l}}function bt(t,e,n){const o=!Array.isArray(t),c=o?[t]:t;if(!c.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const u=e.length<2;return pt(n,(l,r)=>{let s=!1;const i=[];let _=0,p=y;const g=()=>{if(_)return;p();const m=e(o?i[0]:i,l,r);u?l(m):p=H(m)?m:y},w=c.map((m,x)=>lt(m,k=>{i[x]=k,_&=~(1<<x),s&&g()},()=>{_|=1<<x}));return s=!0,g(),function(){q(w),p(),s=!1}})}function Dt(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,o,c,u,l=[],r="",s=t.split("/");for(s[0]||s.shift();c=s.shift();)n=c[0],n==="*"?(l.push("wild"),r+="/(.*)"):n===":"?(o=c.indexOf("?",1),u=c.indexOf(".",1),l.push(c.substring(1,~o?o:~u?u:c.length)),r+=~o&&!~u?"(?:/([^/]+?))?":"/([^/]+?)",~u&&(r+=(~o?"?":"")+"\\"+c.substring(u))):r+="/"+c;return{keys:l,pattern:new RegExp("^"+r+(e?"(?=$|/)":"/?$"),"i")}}function It(t){let e,n,o;const c=[t[2]];var u=t[0];function l(r,s){let i={};if(s!==void 0&&s&4)i=T(c,[z(r[2])]);else for(let _=0;_<c.length;_+=1)i=G(i,c[_]);return{props:i}}return u&&(e=M(u,l(t)),e.$on("routeEvent",t[7])),{c(){e&&B(e.$$.fragment),n=K()},m(r,s){e&&L(e,r,s),J(r,n,s),o=!0},p(r,s){if(s&1&&u!==(u=r[0])){if(e){Q();const i=e;P(i.$$.fragment,1,0,()=>{N(i,1)}),Z()}u?(e=M(u,l(r,s)),e.$on("routeEvent",r[7]),B(e.$$.fragment),$(e.$$.fragment,1),L(e,n.parentNode,n)):e=null}else if(u){const i=s&4?T(c,[z(r[2])]):{};e.$set(i)}},i(r){o||(e&&$(e.$$.fragment,r),o=!0)},o(r){e&&P(e.$$.fragment,r),o=!1},d(r){r&&U(n),e&&N(e,r)}}}function Mt(t){let e,n,o;const c=[{params:t[1]},t[2]];var u=t[0];function l(r,s){let i={};if(s!==void 0&&s&6)i=T(c,[s&2&&{params:r[1]},s&4&&z(r[2])]);else for(let _=0;_<c.length;_+=1)i=G(i,c[_]);return{props:i}}return u&&(e=M(u,l(t)),e.$on("routeEvent",t[6])),{c(){e&&B(e.$$.fragment),n=K()},m(r,s){e&&L(e,r,s),J(r,n,s),o=!0},p(r,s){if(s&1&&u!==(u=r[0])){if(e){Q();const i=e;P(i.$$.fragment,1,0,()=>{N(i,1)}),Z()}u?(e=M(u,l(r,s)),e.$on("routeEvent",r[6]),B(e.$$.fragment),$(e.$$.fragment,1),L(e,n.parentNode,n)):e=null}else if(u){const i=s&6?T(c,[s&2&&{params:r[1]},s&4&&z(r[2])]):{};e.$set(i)}},i(r){o||(e&&$(e.$$.fragment,r),o=!0)},o(r){e&&P(e.$$.fragment,r),o=!1},d(r){r&&U(n),e&&N(e,r)}}}function Tt(t){let e,n,o,c;const u=[Mt,It],l=[];function r(s,i){return s[1]?0:1}return e=r(t),n=l[e]=u[e](t),{c(){n.c(),o=K()},m(s,i){l[e].m(s,i),J(s,o,i),c=!0},p(s,[i]){let _=e;e=r(s),e===_?l[e].p(s,i):(Q(),P(l[_],1,1,()=>{l[_]=null}),Z(),n=l[e],n?n.p(s,i):(n=l[e]=u[e](s),n.c()),$(n,1),n.m(o.parentNode,o))},i(s){c||($(n),c=!0)},o(s){P(n),c=!1},d(s){s&&U(o),l[e].d(s)}}}function st(){const t=window.location.href.indexOf("#/");let e=t>-1?window.location.href.substr(t+1):"/";const n=e.indexOf("?");let o="";return n>-1&&(o=e.substr(n+1),e=e.substr(0,n)),{location:e,querystring:o}}const tt=pt(null,function(e){e(st());const n=()=>{e(st())};return window.addEventListener("hashchange",n,!1),function(){window.removeEventListener("hashchange",n,!1)}}),ne=bt(tt,t=>t.location);bt(tt,t=>t.querystring);const it=mt(void 0);function zt(t){t?window.scrollTo(t.__svelte_spa_router_scrollX,t.__svelte_spa_router_scrollY):window.scrollTo(0,0)}function Bt(t,e,n){let{routes:o={}}=e,{prefix:c=""}=e,{restoreScrollState:u=!1}=e;class l{constructor(f,d){if(!d||typeof d!="function"&&(typeof d!="object"||d._sveltesparouter!==!0))throw Error("Invalid component object");if(!f||typeof f=="string"&&(f.length<1||f.charAt(0)!="/"&&f.charAt(0)!="*")||typeof f=="object"&&!(f instanceof RegExp))throw Error('Invalid value for "path" argument - strings must start with / or *');const{pattern:b,keys:h}=Dt(f);this.path=f,typeof d=="object"&&d._sveltesparouter===!0?(this.component=d.component,this.conditions=d.conditions||[],this.userData=d.userData,this.props=d.props||{}):(this.component=()=>Promise.resolve(d),this.conditions=[],this.props={}),this._pattern=b,this._keys=h}match(f){if(c){if(typeof c=="string")if(f.startsWith(c))f=f.substr(c.length)||"/";else return null;else if(c instanceof RegExp){const E=f.match(c);if(E&&E[0])f=f.substr(E[0].length)||"/";else return null}}const d=this._pattern.exec(f);if(d===null)return null;if(this._keys===!1)return d;const b={};let h=0;for(;h<this._keys.length;){try{b[this._keys[h]]=decodeURIComponent(d[h+1]||"")||null}catch{b[this._keys[h]]=null}h++}return b}async checkConditions(f){for(let d=0;d<this.conditions.length;d++)if(!await this.conditions[d](f))return!1;return!0}}const r=[];o instanceof Map?o.forEach((a,f)=>{r.push(new l(f,a))}):Object.keys(o).forEach(a=>{r.push(new l(a,o[a]))});let s=null,i=null,_={};const p=St();async function g(a,f){await Ot(),p(a,f)}let w=null,m=null;u&&(m=a=>{a.state&&(a.state.__svelte_spa_router_scrollY||a.state.__svelte_spa_router_scrollX)?w=a.state:w=null},window.addEventListener("popstate",m),jt(()=>{zt(w)}));let x=null,k=null;const gt=tt.subscribe(async a=>{x=a;let f=0;for(;f<r.length;){const d=r[f].match(a.location);if(!d){f++;continue}const b={route:r[f].path,location:a.location,querystring:a.querystring,userData:r[f].userData,params:d&&typeof d=="object"&&Object.keys(d).length?d:null};if(!await r[f].checkConditions(b)){n(0,s=null),k=null,g("conditionsFailed",b);return}g("routeLoading",Object.assign({},b));const h=r[f].component;if(k!=h){h.loading?(n(0,s=h.loading),k=h,n(1,i=h.loadingParams),n(2,_={}),g("routeLoaded",Object.assign({},b,{component:s,name:s.name,params:i}))):(n(0,s=null),k=null);const E=await h();if(a!=x)return;n(0,s=E&&E.default||E),k=h}d&&typeof d=="object"&&Object.keys(d).length?n(1,i=d):n(1,i=null),n(2,_=r[f].props),g("routeLoaded",Object.assign({},b,{component:s,name:s.name,params:i})).then(()=>{it.set(i)});return}n(0,s=null),k=null,it.set(void 0)});Ct(()=>{gt(),m&&window.removeEventListener("popstate",m)});function yt(a){nt.call(this,t,a)}function wt(a){nt.call(this,t,a)}return t.$$set=a=>{"routes"in a&&n(3,o=a.routes),"prefix"in a&&n(4,c=a.prefix),"restoreScrollState"in a&&n(5,u=a.restoreScrollState)},t.$$.update=()=>{t.$$.dirty&32&&(history.scrollRestoration=u?"manual":"auto")},[s,i,_,o,c,u,yt,wt]}class oe extends Lt{constructor(e){super(),Rt(this,e,Bt,Tt,ut,{routes:3,prefix:4,restoreScrollState:5})}}export{oe as R,Lt as S,Kt as a,Qt as b,Yt as c,Ft as d,Jt as e,Zt as f,J as g,Ht as h,Rt as i,Gt as j,Vt as k,$ as l,P as m,U as n,Xt as o,te as p,ne as q,y as r,ut as s,at as t,Wt as u,B as v,L as w,N as x,ee as y};
